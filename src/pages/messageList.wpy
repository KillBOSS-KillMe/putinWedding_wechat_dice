<template>
  <view class="containe">
    <view class="messageList">
      <repeat for="{{messageList}}" item="item">
        <view class="carList">
          <view class="item">
            <view class="top">
              <image src='{{item.userImg}}'>
              <view>
                <text class="userName">{{item.userName}} 向你咨询</text>
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <text class="hf">回复</text>
          </view>
          <text class="carName">{{item.name}}</text>
          <view style="margin-bottom: 16rpx">
            <text class="type" wx:if="{{item.type == '1'}}">婚车</text>
            <text class="type" wx:if="{{item.type == '2'}}">尾车</text>
            <text class="name">{{item.content}}</text>
          </view>
          <view class="confirm"><text>确认互换</text></view>
        </view>
      </repeat>
    </view>
    <nav @childFn.user="goPage" @childFnOrReturn.user="goModifyUserInfo" />
  </view>
</template>

<script>
  import wepy from 'wepy'
  import nav from '../components/nav' // 底部导航
  export default class messageList extends wepy.page {
    config = {
      navigationBarTitleText: '消息'
    }
    components = {
      nav: nav
    }

    mixins = []

    data = {
      messageList:[
        {id:'1',type:'1',content:'本人19年9-21-08:00需要十辆奔驰x6',name:'有红色的玛莎拉蒂吗？车型不限！',time:'2019/10/12',userImg:'../image/daw.jpg',userName:'张小飞'},
        {id:'1',type:'1',content:'本人19年9-21-08:00需要十辆奔驰x6',name:'有红色的玛莎拉蒂吗？车型不限！',time:'2019/10/12',userImg:'../image/daw.jpg',userName:'张小飞'},
        {id:'1',type:'1',content:'本人19年9-21-08:00需要十辆奔驰x6',name:'有红色的玛莎拉蒂吗？车型不限！',time:'2019/10/12',userImg:'../image/daw.jpg',userName:'张小飞'}
      ]
    }

    computed = {

    }

    methods = {
      // 底部导航跳转
      // 底部导航跳转
      goPage (url, evt) {
        // if (this.verificationUserInfo()) {
        //   return 
        // }
        // 销毁当前页{跳转}
        this.$redirect(url)
      },
      
    }

    events = {

    }

    onLoad() {
      
    }
    

    // 用户信息校验
    verificationUserInfo() {
      if (!this.userInfo.hasOwnProperty('id')) {
        wx.showToast({
          title: "用户信息加载中...",
          icon: 'none',
        });
        return true
      }
    }
  }
</script>
<style lang="less">
.containe{
  width: 750rpx;
  padding-bottom: 100rpx;
  box-sizing: border-box;
  .carList{
    margin: 60rpx 0;
  }
  .messageList{
    width: 630rpx;
    padding: 0 60rpx;
    .item{
      display: flex;
      justify-content: space-between;
      align-content: center;
      .top{
        display: flex;
        image{
          width: 64rpx;
          height: 64rpx;
          border-radius: 50%;
          overflow: hidden;
          margin-right: 20rpx;
        }
        view{
          display: flex;
          flex-direction: column;
          .userName{
            color: #1F1F1F;
            font-size: 32rpx;
            font-weight: 600;
          }
          .time{
            font-size: 24rpx;
            color: #999;
          }
        }
      }
      .hf{
        display: block;
        width: 98rpx;
        height: 54rpx;
        border-radius: 10rpx;
        text-align: center;
        line-height: 54rpx;
        border:1rpx solid #b6b6b6;
        font-size: 28rpx;
        color: #1F1F1F;
      }
    }
  }
  .confirm{
    width: 100%;
    display: flex;
    justify-content: flex-end;
    text{
      width: 160rpx;
      height: 56rpx;
      background: #F42652;
      color: #fff;
      text-align: center;
      line-height: 56rpx;
      border-radius: 10rpx;
      font-size: 28rpx;
      text-align: center;
    }
    margin-top: 50rpx;
  }
  .type{
    color: #F42652;
    font-size: 20rpx;
    padding: 5rpx 10rpx;
    border: 1rpx solid #F42652;
    border-radius: 5rpx;
    margin-right: 10rpx;
  }
  .name{
      font-size: 32rpx;
      color: #1F1F1F;
      vertical-align: middle;
  }
  .carName{
    font-size: 28rpx;
    color: #1F1F1F;
    font-weight: 600;
    margin: 20rpx 0;
    display: block;
  }
}
</style>